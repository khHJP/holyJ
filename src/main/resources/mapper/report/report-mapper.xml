<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sh.oee.report.model.dao.ReportDao">

	<!-- ðŸ‘» ì •ì€ ì‹œìž‘ ðŸ‘» -->
	<!-- ì‹ ê³  í¼ ì¡°íšŒ -->
	<select id="getReportReason" resultMap="reportReasonMap">
		select
			*
		from
			report_reason
		where
			report_type in (#{reportType}, 'US')
	</select>
	<resultMap type="reportReason" id="reportReasonMap"></resultMap>
	
	<!-- ê²Œì‹œíŒ ì‹ ê³  ë“±ë¡ -->
	<insert id="boardReportEnroll">
		insert into
			board_report
		values(
			SEQ_BOARD_REPORT_NO.nextval,
			#{writer},
			#{reportType},
			#{reportPostNo},
			#{reasonNo},
			default,
			default
		)
	</insert>
	
	<!-- ì‚¬ìš©ìž ì‹ ê³  ë“±ë¡ -->
	<insert id="userReportEnroll">
		insert into 
			user_report
		values (
			SEQ_USER_REPORT_NO.nextval,
			#{writer},
			#{reasonNo},
			#{reportedMember},
			default,
			default		
		)
	</insert>
	
	
	<!-- ðŸ‘» ì •ì€ ë ðŸ‘» -->

</mapper>